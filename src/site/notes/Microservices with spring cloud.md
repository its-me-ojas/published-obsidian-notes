---
{"dg-publish":true,"permalink":"/microservices-with-spring-cloud/","tags":["notes","gardenEntry","gardenEntry"]}
---

First of all check [this](https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_spring_cloud_config_client) official documentation if the below notes don't make sense

### Centralised Configuration
<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="Centralised_Configurationexcalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"id":"PEdcl2ebyohjct1VyNXAY","type":"rectangle","x":-270.5,"y":-294.9765625,"width":203,"height":51,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":1107624207,"version":64,"versionNonce":672561441,"isDeleted":false,"boundElements":[{"type":"text","id":"HMyr59mR"},{"id":"7-Fdyx5PATWecj8UDcN8I","type":"arrow"}],"updated":1720206918224,"link":null,"locked":false},{"id":"HMyr59mR","type":"text","x":-254.90989685058594,"y":-281.9765625,"width":171.81979370117188,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":710372769,"version":70,"versionNonce":1120702863,"isDeleted":false,"boundElements":null,"updated":1720206855677,"link":null,"locked":false,"text":"limits microservice","rawText":"limits microservice","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"PEdcl2ebyohjct1VyNXAY","originalText":"limits microservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":81,"versionNonce":363931151,"index":"a2","isDeleted":false,"id":"-9JoQgizkv85Iu2pqP69U","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-44,"y":-292.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":203,"height":51,"seed":445238945,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"ZadKZpdp"},{"id":"tqJYRlNONxuCHtij7JFhe","type":"arrow"}],"updated":1720206923452,"link":null,"locked":false},{"type":"text","version":102,"versionNonce":1020274849,"index":"a3","isDeleted":false,"id":"ZadKZpdp","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-11.2999267578125,"y":-279.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":137.599853515625,"height":25,"seed":1551454849,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720206864039,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice X","rawText":"Microservice X","textAlign":"center","verticalAlign":"middle","containerId":"-9JoQgizkv85Iu2pqP69U","originalText":"Microservice X","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":111,"versionNonce":1224074689,"index":"a4","isDeleted":false,"id":"8ENCjE-brVg7br0YnDhIZ","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":184,"y":-294.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":203,"height":51,"seed":361051233,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"Wlcegca7"},{"id":"Wd92UW2N-qDFmtXgTMIS8","type":"arrow"}],"updated":1720206926327,"link":null,"locked":false},{"type":"text","version":135,"versionNonce":1041277089,"index":"a5","isDeleted":false,"id":"Wlcegca7","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":217.52007293701172,"y":-281.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":135.95985412597656,"height":25,"seed":914489409,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720206869296,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice Y","rawText":"Microservice Y","textAlign":"center","verticalAlign":"middle","containerId":"8ENCjE-brVg7br0YnDhIZ","originalText":"Microservice Y","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":217,"versionNonce":142469039,"index":"a6","isDeleted":false,"id":"JYPKY4-WqUKnYAYn8ncTi","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-83,"y":-157.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":282,"height":51,"seed":736134703,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"AZOewT9P"},{"id":"7-Fdyx5PATWecj8UDcN8I","type":"arrow"},{"id":"tqJYRlNONxuCHtij7JFhe","type":"arrow"},{"id":"Wd92UW2N-qDFmtXgTMIS8","type":"arrow"},{"id":"XzuGe6Rm1r_JPuo2s4sTP","type":"arrow"}],"updated":1720206932713,"link":null,"locked":false},{"type":"text","version":290,"versionNonce":830410657,"index":"a7","isDeleted":false,"id":"AZOewT9P","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-66.2298583984375,"y":-144.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":248.459716796875,"height":25,"seed":695068751,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720206896542,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Spring cloud config server","rawText":"Spring cloud config server","textAlign":"center","verticalAlign":"middle","containerId":"JYPKY4-WqUKnYAYn8ncTi","originalText":"Spring cloud config server","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":286,"versionNonce":840763375,"index":"a8","isDeleted":false,"id":"ODH86gw98YuIsXBkNaqws","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":3.5,"y":-23.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":141,"height":35,"seed":1663452993,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"90he0Qtb"},{"id":"XzuGe6Rm1r_JPuo2s4sTP","type":"arrow"}],"updated":1720206932713,"link":null,"locked":false},{"type":"text","version":371,"versionNonce":731626095,"index":"a9","isDeleted":false,"id":"90he0Qtb","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":35.91004943847656,"y":-18.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":76.17990112304688,"height":25,"seed":406697761,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720206908692,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"git repo","rawText":"git repo","textAlign":"center","verticalAlign":"middle","containerId":"ODH86gw98YuIsXBkNaqws","originalText":"git repo","autoResize":true,"lineHeight":1.25},{"id":"7-Fdyx5PATWecj8UDcN8I","type":"arrow","x":-156.5,"y":-238.9765625,"width":139,"height":71,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":{"type":2},"seed":1085538273,"version":89,"versionNonce":292292559,"isDeleted":false,"boundElements":null,"updated":1720206918236,"link":null,"locked":false,"points":[[0,0],[139,71]],"lastCommittedPoint":[139,71],"startBinding":{"elementId":"PEdcl2ebyohjct1VyNXAY","focus":0.3117849502371872,"gap":5},"endBinding":{"elementId":"JYPKY4-WqUKnYAYn8ncTi","focus":-0.026299288111836523,"gap":10.5},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"tqJYRlNONxuCHtij7JFhe","type":"arrow","x":61.5,"y":-232.9765625,"width":2,"height":66,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":{"type":2},"seed":22558191,"version":52,"versionNonce":723580417,"isDeleted":false,"boundElements":null,"updated":1720206923464,"link":null,"locked":false,"points":[[0,0],[2,66]],"lastCommittedPoint":[2,66],"startBinding":{"elementId":"-9JoQgizkv85Iu2pqP69U","focus":-0.02903703703703703,"gap":8.5},"endBinding":{"elementId":"JYPKY4-WqUKnYAYn8ncTi","focus":0.04627551565672759,"gap":9.5},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"Wd92UW2N-qDFmtXgTMIS8","type":"arrow","x":267.5,"y":-234.9765625,"width":137,"height":68,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":{"type":2},"seed":1383370209,"version":35,"versionNonce":261457313,"isDeleted":false,"boundElements":null,"updated":1720206926327,"link":null,"locked":false,"points":[[0,0],[-137,68]],"lastCommittedPoint":null,"startBinding":{"elementId":"8ENCjE-brVg7br0YnDhIZ","focus":-0.33033524121013896,"gap":8.5},"endBinding":{"elementId":"JYPKY4-WqUKnYAYn8ncTi","focus":0.010319917440660476,"gap":9.5},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"XzuGe6Rm1r_JPuo2s4sTP","type":"arrow","x":70.5,"y":-97.9765625,"width":2,"height":64,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":{"type":2},"seed":2122953007,"version":73,"versionNonce":1746393711,"isDeleted":false,"boundElements":null,"updated":1720206963035,"link":null,"locked":false,"points":[[0,0],[2,64]],"lastCommittedPoint":[2,64],"startBinding":{"elementId":"JYPKY4-WqUKnYAYn8ncTi","focus":-0.08066115702479339,"gap":8.5},"endBinding":{"elementId":"ODH86gw98YuIsXBkNaqws","focus":-0.008797009016934244,"gap":10.5},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":463.5,"scrollY":475.0234375,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Centralised_Configurationexcalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
The properties mentioned in the git repository have higher precedence to the application properties mentioned in the service's application properties

the microservices need ***Config Client*** as their dependencies and the spring cloud config server need ***Config Server*** as their dependencies

### Load Balancing
<div id="Load_Balancingexcalidraw.md2"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"type":"rectangle","version":120,"versionNonce":343544079,"index":"a0","isDeleted":false,"id":"Mm3mlboeYoRULc6E2MwGH","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-164.5,"y":-242.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":353,"height":64,"seed":1060748623,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"9gC3vGQG"},{"id":"PISyW6teVd90ab9ObPQqn","type":"arrow"}],"updated":1720208716470,"link":null,"locked":false},{"type":"text","version":139,"versionNonce":1399734766,"index":"a1","isDeleted":false,"id":"9gC3vGQG","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-145.86984252929688,"y":-223.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":315.73968505859375,"height":25,"seed":1649743105,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646902,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Conversion Mircoservice","rawText":"Currency Conversion Mircoservice","textAlign":"center","verticalAlign":"middle","containerId":"Mm3mlboeYoRULc6E2MwGH","originalText":"Currency Conversion Mircoservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":223,"versionNonce":1748336353,"index":"a2","isDeleted":false,"id":"BIXuM1JQVg0SO9Uju2p6I","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-81,"y":-74.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":192,"height":43,"seed":2108264065,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"EbjTP8L4"},{"id":"PISyW6teVd90ab9ObPQqn","type":"arrow"},{"id":"9SCr5SONiZ3lV8SwGCB8C","type":"arrow"},{"id":"NA7HkKnZAUyCOWZ75Cdb3","type":"arrow"},{"id":"oehJbXcCrsZRxZNcJUzuU","type":"arrow"},{"id":"KrRJfw_InPwQ6h23nTWGd","type":"arrow"}],"updated":1720208734449,"link":null,"locked":false},{"type":"text","version":254,"versionNonce":318872562,"index":"a3","isDeleted":false,"id":"EbjTP8L4","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-51.03992462158203,"y":-65.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":132.07984924316406,"height":25,"seed":1767249505,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646903,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"load balancer","rawText":"load balancer","textAlign":"center","verticalAlign":"middle","containerId":"BIXuM1JQVg0SO9Uju2p6I","originalText":"load balancer","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":292,"versionNonce":1154165743,"index":"a4","isDeleted":false,"id":"JQsTrmeKanTsAv3lPz_YT","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":188.5,"y":-71.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":177,"height":39,"seed":2025384801,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"eXOk4aim"},{"id":"9SCr5SONiZ3lV8SwGCB8C","type":"arrow"}],"updated":1720208722082,"link":null,"locked":false},{"type":"text","version":341,"versionNonce":1282135086,"index":"a5","isDeleted":false,"id":"eXOk4aim","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":212.26007080078125,"y":-64.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":129.4798583984375,"height":25,"seed":136763201,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646903,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"naming server","rawText":"naming server","textAlign":"center","verticalAlign":"middle","containerId":"JQsTrmeKanTsAv3lPz_YT","originalText":"naming server","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":476,"versionNonce":963569743,"index":"aA","isDeleted":false,"id":"30Ak-HrPFBM44aEO01WkE","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":186,"y":79.5234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":228,"height":60,"seed":1608214689,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"mtgjPuVn"},{"id":"oehJbXcCrsZRxZNcJUzuU","type":"arrow"}],"updated":1720208730500,"link":null,"locked":false},{"type":"text","version":527,"versionNonce":1611484594,"index":"aB","isDeleted":false,"id":"mtgjPuVn","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":201.18010711669922,"y":84.5234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":197.63978576660156,"height":50,"seed":2022157441,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646903,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Exchange -\nInstance 3","rawText":"Currency Exchange - Instance 3","textAlign":"center","verticalAlign":"middle","containerId":"30Ak-HrPFBM44aEO01WkE","originalText":"Currency Exchange - Instance 3","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":479,"versionNonce":2008677025,"index":"aC","isDeleted":false,"id":"aFs9T9dq3OXZ1ywUs1xHc","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-361.5,"y":82.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":228,"height":60,"seed":49776399,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"T1vUl8s4"},{"id":"KrRJfw_InPwQ6h23nTWGd","type":"arrow"}],"updated":1720208734449,"link":null,"locked":false},{"type":"text","version":533,"versionNonce":1820139118,"index":"aD","isDeleted":false,"id":"T1vUl8s4","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-346.3198928833008,"y":87.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":197.63978576660156,"height":50,"seed":196201775,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646903,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Exchange -\nInstance 1","rawText":"Currency Exchange - Instance 1","textAlign":"center","verticalAlign":"middle","containerId":"aFs9T9dq3OXZ1ywUs1xHc","originalText":"Currency Exchange - Instance 1","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":492,"versionNonce":426553327,"index":"aI","isDeleted":false,"id":"3Pt901I_5yE9xsyizb6OT","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-93.5,"y":80.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":228,"height":60,"seed":863493615,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"IGXiGINN"},{"id":"NA7HkKnZAUyCOWZ75Cdb3","type":"arrow"}],"updated":1720208726060,"link":null,"locked":false},{"type":"text","version":546,"versionNonce":2084358002,"index":"aJ","isDeleted":false,"id":"IGXiGINN","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-78.31989288330078,"y":85.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":197.63978576660156,"height":50,"seed":1002719247,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212646903,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Exchange -\nInstance 2","rawText":"Currency Exchange - Instance 2","textAlign":"center","verticalAlign":"middle","containerId":"3Pt901I_5yE9xsyizb6OT","originalText":"Currency Exchange - Instance 2","autoResize":true,"lineHeight":1.25},{"type":"arrow","version":37,"versionNonce":1508869038,"index":"aO","isDeleted":false,"id":"PISyW6teVd90ab9ObPQqn","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":13.5,"y":-174.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":1,"height":90,"seed":1566479151,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1720212646812,"link":null,"locked":false,"startBinding":{"elementId":"Mm3mlboeYoRULc6E2MwGH","gap":4,"focus":-0.006219765031098824},"endBinding":{"elementId":"BIXuM1JQVg0SO9Uju2p6I","gap":10,"focus":-0.0015586214858858162},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[1,90]]},{"type":"arrow","version":40,"versionNonce":343106094,"index":"aP","isDeleted":false,"id":"9SCr5SONiZ3lV8SwGCB8C","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":122.50000000000001,"y":-50.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":54.999999999999986,"height":2,"seed":588011375,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1720212646820,"link":null,"locked":false,"startBinding":{"elementId":"BIXuM1JQVg0SO9Uju2p6I","gap":11.5,"focus":0.2564568934157876},"endBinding":{"elementId":"JQsTrmeKanTsAv3lPz_YT","gap":11,"focus":0.20328131252501003},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[54.999999999999986,-2]]},{"type":"arrow","version":35,"versionNonce":127625134,"index":"aQ","isDeleted":false,"id":"NA7HkKnZAUyCOWZ75Cdb3","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":14.5,"y":-22.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":1.0000000000000018,"height":92.00000000000001,"seed":561894927,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1720212646830,"link":null,"locked":false,"startBinding":{"elementId":"BIXuM1JQVg0SO9Uju2p6I","gap":9,"focus":0.008640650590162082},"endBinding":{"elementId":"3Pt901I_5yE9xsyizb6OT","gap":11,"focus":-0.03983647081194143},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[1.0000000000000018,92.00000000000001]]},{"type":"arrow","version":54,"versionNonce":577187502,"index":"aR","isDeleted":false,"id":"oehJbXcCrsZRxZNcJUzuU","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":80.50000000000001,"y":-19.976562500000007,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":196,"height":86,"seed":1867438607,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1720212646822,"link":null,"locked":false,"startBinding":{"elementId":"BIXuM1JQVg0SO9Uju2p6I","gap":12,"focus":0.0748195669607057},"endBinding":{"elementId":"30Ak-HrPFBM44aEO01WkE","gap":13.5,"focus":0.4147538893139505},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[196,86]]},{"type":"arrow","version":97,"versionNonce":2117196590,"index":"aS","isDeleted":false,"id":"KrRJfw_InPwQ6h23nTWGd","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-56.5,"y":-21.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":185,"height":91,"seed":1237457921,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1720212646828,"link":null,"locked":false,"startBinding":{"elementId":"BIXuM1JQVg0SO9Uju2p6I","gap":9.999999999999996,"focus":0.053407794863727605},"endBinding":{"elementId":"aFs9T9dq3OXZ1ywUs1xHc","gap":13,"focus":-0.4652725445867873},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-185,91]]}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":408.2954576280382,"scrollY":863.8098958333333,"zoom":{"value":0.45},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Load_Balancingexcalidraw.md2");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

### How to add another instance using Intellij
- Go to edit configurations and copy the already made instance
- ![Pasted image 20240706012448.png](/img/user/Attachments/Pasted%20image%2020240706012448.png) and then select VM options
- write `-dserver.port=<portNumber>`

### Mircoservice overview example
<div id="Microservice_overview_exampleexcalidraw.md3"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"id":"G8CckZL_tw_ncxqzMb6YZ","type":"rectangle","x":-289.5,"y":-237.9765625,"width":362,"height":48,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":968308527,"version":79,"versionNonce":175603009,"isDeleted":false,"boundElements":[{"type":"text","id":"PkziMNfe"},{"id":"pTyCNIXXTiZzDpW0p9Ojk","type":"arrow"}],"updated":1720212559084,"link":null,"locked":false},{"id":"PkziMNfe","type":"text","x":-271.7998352050781,"y":-226.4765625,"width":326.59967041015625,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":2077495841,"version":84,"versionNonce":1437240655,"isDeleted":false,"boundElements":null,"updated":1720212528696,"link":null,"locked":false,"text":"Currency Conversion Micrsoservice","rawText":"Currency Conversion Micrsoservice","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"G8CckZL_tw_ncxqzMb6YZ","originalText":"Currency Conversion Micrsoservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":135,"versionNonce":409355137,"index":"a2","isDeleted":false,"id":"7CkQYm8NY-XMB_evXdheh","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":187.5,"y":-241.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":362,"height":48,"seed":2104450785,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"sXTr0PbQ"},{"id":"qo4mQKix5L8c7m1PpUHPk","type":"arrow"}],"updated":1720212563431,"link":null,"locked":false},{"type":"text","version":174,"versionNonce":887616609,"index":"a3","isDeleted":false,"id":"sXTr0PbQ","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":215.97015380859375,"y":-230.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":305.0596923828125,"height":25,"seed":616749761,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212546289,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Exchange Microservice","rawText":"Currency Exchange Microservice","textAlign":"center","verticalAlign":"middle","containerId":"7CkQYm8NY-XMB_evXdheh","originalText":"Currency Exchange Microservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":190,"versionNonce":1119491905,"index":"a4","isDeleted":false,"id":"6JtsZyrrXVLeg4kk3_-tY","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":292.5,"y":-94.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":155,"height":35,"seed":258805793,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"CRzNGXG9"},{"id":"qo4mQKix5L8c7m1PpUHPk","type":"arrow"}],"updated":1720212563431,"link":null,"locked":false},{"type":"text","version":238,"versionNonce":417247055,"index":"a5","isDeleted":false,"id":"CRzNGXG9","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":320.56005859375,"y":-89.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":98.8798828125,"height":25,"seed":645424129,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720212554996,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Database","rawText":"Database","textAlign":"center","verticalAlign":"middle","containerId":"6JtsZyrrXVLeg4kk3_-tY","originalText":"Database","autoResize":true,"lineHeight":1.25},{"id":"pTyCNIXXTiZzDpW0p9Ojk","type":"arrow","x":83.5,"y":-219.9765625,"width":88,"height":1,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a6","roundness":{"type":2},"seed":485041409,"version":31,"versionNonce":1906725217,"isDeleted":false,"boundElements":null,"updated":1720212559084,"link":null,"locked":false,"points":[[0,0],[88,1]],"lastCommittedPoint":null,"startBinding":{"elementId":"G8CckZL_tw_ncxqzMb6YZ","focus":-0.31399912778020056,"gap":11},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow"},{"id":"qo4mQKix5L8c7m1PpUHPk","type":"arrow","x":363.5,"y":-184.9765625,"width":1,"height":79,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a7","roundness":{"type":2},"seed":1811426593,"version":69,"versionNonce":256597377,"isDeleted":false,"boundElements":null,"updated":1720212839084,"link":null,"locked":false,"points":[[0,0],[-1,79]],"lastCommittedPoint":null,"startBinding":{"elementId":"7CkQYm8NY-XMB_evXdheh","focus":0.02527403476925225,"gap":9},"endBinding":{"elementId":"6JtsZyrrXVLeg4kk3_-tY","focus":-0.1011400651465798,"gap":11},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":311.5,"scrollY":430.0234375,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Microservice_overview_exampleexcalidraw.md3");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

#### There are two ways of connecting the microservices
##### Rest Template
- url used `http://localhost:8100/currency-conversion/from/USD/to/INR/quantity/10`
- ![Pasted image 20240706022342.png](/img/user/Attachments/Pasted%20image%2020240706022342.png)
##### Feign Rest Client
- url used `http://localhost:8100/currency-conversion-feign/from/USD/to/INR/quantity/10`
- first add dependency ***OpenFeign***
- main class got the annotation ***@EnableFeignClients***
- We need to create an interface
- ###### CurrencyExchangeProxy
	- ![Pasted image 20240706023432.png](/img/user/Attachments/Pasted%20image%2020240706023432.png)
	- For now we are hard coding the url to one instance but even if we are given an option to hard code multiple instances, it's not a good practice to do so
	- so ***naming server*** or ***service registry*** comes in place
- ###### Controller
	- ![Pasted image 20240706023505.png](/img/user/Attachments/Pasted%20image%2020240706023505.png)

### Naming Server or Service Registry
<div id="Naming_Server_or_Service_Registryexcalidraw.md4"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"id":"me6HCgwf-v9DcWZwieeX0","type":"rectangle","x":-279.5,"y":-180.9765625,"width":367,"height":46,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":2051146127,"version":79,"versionNonce":1668730767,"isDeleted":false,"boundElements":[{"type":"text","id":"pCfjRQ0v"},{"id":"P8tqQjj_KKw01XyxBa4yG","type":"arrow"}],"updated":1720213907082,"link":null,"locked":false},{"id":"pCfjRQ0v","type":"text","x":-253.86984252929688,"y":-170.4765625,"width":315.73968505859375,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":622903841,"version":88,"versionNonce":900119599,"isDeleted":false,"boundElements":null,"updated":1720213857306,"link":null,"locked":false,"text":"Currency Conversion Microservice","rawText":"Currency Conversion Microservice","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"me6HCgwf-v9DcWZwieeX0","originalText":"Currency Conversion Microservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":126,"versionNonce":593201679,"index":"a2","isDeleted":false,"id":"Q6yNl1UAMNJhVI33afT3a","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":119,"y":-182.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":367,"height":46,"seed":1576060417,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"vTopqccd"},{"id":"3408GnBUm_VkH-1Q-WNw0","type":"arrow"}],"updated":1720213903369,"link":null,"locked":false},{"type":"text","version":155,"versionNonce":605908559,"index":"a3","isDeleted":false,"id":"vTopqccd","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":149.97015380859375,"y":-172.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":305.0596923828125,"height":25,"seed":986340833,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720213873364,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Currency Exchange Microservice","rawText":"Currency Exchange Microservice","textAlign":"center","verticalAlign":"middle","containerId":"Q6yNl1UAMNJhVI33afT3a","originalText":"Currency Exchange Microservice","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":161,"versionNonce":963000417,"index":"a4","isDeleted":false,"id":"Rjhp-Fmm6DeqYe4rleweY","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":532,"y":-182.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":196,"height":45,"seed":1229153935,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"xY6FOI6B"},{"id":"Sbx2K1DJfi7nYktk7kRag","type":"arrow"}],"updated":1720213911602,"link":null,"locked":false},{"type":"text","version":185,"versionNonce":1961448353,"index":"a5","isDeleted":false,"id":"xY6FOI6B","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":561.2000732421875,"y":-172.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":137.599853515625,"height":25,"seed":1817558191,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720213887374,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice X","rawText":"Microservice X","textAlign":"center","verticalAlign":"middle","containerId":"Rjhp-Fmm6DeqYe4rleweY","originalText":"Microservice X","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":97,"versionNonce":1948931105,"index":"a6","isDeleted":false,"id":"TS55lrToT6WtbgjziwG9O","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":117,"y":-21.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":367,"height":46,"seed":105202479,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"RENAXYAe"},{"id":"3408GnBUm_VkH-1Q-WNw0","type":"arrow"},{"id":"P8tqQjj_KKw01XyxBa4yG","type":"arrow"},{"id":"Sbx2K1DJfi7nYktk7kRag","type":"arrow"}],"updated":1720213911602,"link":null,"locked":false},{"type":"text","version":144,"versionNonce":608863759,"index":"a7","isDeleted":false,"id":"RENAXYAe","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":135.22018432617188,"y":-11.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":330.55963134765625,"height":25,"seed":842204495,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720213898830,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Naming Server or Service Registry","rawText":"Naming Server or Service Registry","textAlign":"center","verticalAlign":"middle","containerId":"TS55lrToT6WtbgjziwG9O","originalText":"Naming Server or Service Registry","autoResize":true,"lineHeight":1.25},{"id":"3408GnBUm_VkH-1Q-WNw0","type":"arrow","x":302.5,"y":-125.9765625,"width":1,"height":93,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a8","roundness":{"type":2},"seed":676129839,"version":33,"versionNonce":647852079,"isDeleted":false,"boundElements":null,"updated":1720213903369,"link":null,"locked":false,"points":[[0,0],[-1,93]],"lastCommittedPoint":null,"startBinding":{"elementId":"Q6yNl1UAMNJhVI33afT3a","focus":-0.001989642157006174,"gap":11},"endBinding":{"elementId":"TS55lrToT6WtbgjziwG9O","focus":0.003452614331275419,"gap":11},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"P8tqQjj_KKw01XyxBa4yG","type":"arrow","x":-31.5,"y":-121.9765625,"width":220,"height":85,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a9","roundness":{"type":2},"seed":458518639,"version":43,"versionNonce":506725807,"isDeleted":false,"boundElements":null,"updated":1720213907082,"link":null,"locked":false,"points":[[0,0],[220,85]],"lastCommittedPoint":null,"startBinding":{"elementId":"me6HCgwf-v9DcWZwieeX0","focus":0.1179958852716931,"gap":13},"endBinding":{"elementId":"TS55lrToT6WtbgjziwG9O","focus":-0.05615393924724677,"gap":15},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"Sbx2K1DJfi7nYktk7kRag","type":"arrow","x":608.5,"y":-126.9765625,"width":176,"height":94,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":{"type":2},"seed":1250243713,"version":55,"versionNonce":551563759,"isDeleted":false,"boundElements":null,"updated":1720213941131,"link":null,"locked":false,"points":[[0,0],[-176,94]],"lastCommittedPoint":null,"startBinding":{"elementId":"Rjhp-Fmm6DeqYe4rleweY","focus":-0.2941846340722745,"gap":11},"endBinding":{"elementId":"TS55lrToT6WtbgjziwG9O","focus":0.3016387284594075,"gap":11},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":93.5,"scrollY":485.0234375,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Naming_Server_or_Service_Registryexcalidraw.md4");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

#### Create a project with Eureka Server
- add ***@EnableEurekaServer*** annotation to the main class
- application.properties
```
server.port=8761  
eureka.client.register-with-eureka=false  
eureka.client.fetch-registry=false
```
#### To add the services with the Eureka Server
- first add the ***Eureka Discovery Client*** dependency in the pom.xml of each service
- then add 
- `eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka` 
- as this is the default route it won't change anything but in future if we want to refer to any other eureka server.
#### Checking the services on Eureka Server
- ![Pasted image 20240706030710.png](/img/user/Attachments/Pasted%20image%2020240706030710.png)
#### For Load Balancing
- just remove the hard coded url and the Feign Client will talk to Eureka Server itself to load balance
- ![Pasted image 20240706030554.png](/img/user/Attachments/Pasted%20image%2020240706030554.png)

### API Gateway
- create a new project and add the ***Eureka Discovery Client*** in the dependency
- `spring.cloud.gateway.discovery.locator.enabled=true` in the application.properties to enable the gateway
- also in pom.xml remove the '-mvc' from the dependency and it should look like this
- ![Pasted image 20240706032937.png](/img/user/Attachments/Pasted%20image%2020240706032937.png)

## URLS
### Currency Exchange Service
- http://localhost:8000/currency-exchange/from/USD/to/INR

### Currency Conversion Service
- http://localhost:8100/currency-conversion/from/USD/to/INR/quantity/10
- http://localhost:8100/currency-conversion-feign/from/USD/to/INR/quantity/10

### Eureka
- http://localhost:8761/

### API Gateway
- http://localhost:8765/CURRENCY-EXCHANGE/currency-exchange/from/USD/to/INR
- this one will be using 8000 only
- http://localhost:8765/CURRENCY-CONVERSION-SERVICE/currency-conversion/from/USD/to/INR/quantity/10
- this one has the load balancing so it will be using 8001 and 8000
- http://localhost:8765/CURRENCY-CONVERSION-SERVICE/currency-conversion-feign/from/USD/to/INR/quantity/10
- #### lowercase urls ( for this add the line in the application.properties in api gateway)
- `spring.cloud.gateway.discovery.locator.lower-case-service-id=true` or `spring.cloud.gateway.discovery.locator.lowerCaseServiceId=true` 
- http://localhost:8765/currency-exchange/currency-exchange/from/USD/to/INR
- http://localhost:8765/currency-conversion-service/currency-conversion/from/USD/to/INR/quantity/10
- http://localhost:8765/currency-conversion-service/currency-conversion-feign/from/USD/to/INR/quantity/10

### Custom Routes using Api Gateway
- First of all for authentication you can use headers like this
- ![Pasted image 20240706035031.png](/img/user/Attachments/Pasted%20image%2020240706035031.png)
- ![Pasted image 20240706035123.png](/img/user/Attachments/Pasted%20image%2020240706035123.png)
- ##### Custom routes
- ![Pasted image 20240706041237.png](/img/user/Attachments/Pasted%20image%2020240706041237.png)
- http://localhost:8765/currency-exchange/from/USD/to/INR
- http://localhost:8765/currency-conversion/from/USD/to/INR/quantity/10
- http://localhost:8765/currency-conversion-feign/from/USD/to/INR/quantity/10
- http://localhost:8765/currency-conversion-new/from/USD/to/INR/quantity/10

### Circuit Breaker
<div id="Circuit_Breakerexcalidraw.md5"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"id":"GebK7yZwqbw16jhpxpFHy","type":"rectangle","x":-426.5,"y":-133.9765625,"width":148,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":1841947220,"version":100,"versionNonce":69962836,"isDeleted":false,"boundElements":[{"type":"text","id":"qjwA9ImV"},{"id":"yd2kmLX98cSyUnysfgZBy","type":"arrow"}],"updated":1720223445630,"link":null,"locked":false},{"id":"qjwA9ImV","type":"text","x":-418.0299301147461,"y":-128.9765625,"width":131.0598602294922,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":643718508,"version":106,"versionNonce":555672020,"isDeleted":false,"boundElements":null,"updated":1720223445630,"link":null,"locked":false,"text":"Microservice 1","rawText":"Microservice 1","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"GebK7yZwqbw16jhpxpFHy","originalText":"Microservice 1","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":110,"versionNonce":1015063508,"index":"a2","isDeleted":false,"id":"VzZvcKCVBCGb323QzCac7","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-213.5,"y":-140.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":160,"height":46,"seed":1926257900,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"Zw7jZR3s"},{"id":"yd2kmLX98cSyUnysfgZBy","type":"arrow"},{"id":"FcD_mnn40DU0lyDZW4kL6","type":"arrow"}],"updated":1720223447597,"link":null,"locked":false},{"type":"text","version":118,"versionNonce":1306855764,"index":"a3","isDeleted":false,"id":"Zw7jZR3s","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-203.43992614746094,"y":-129.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":139.87985229492188,"height":25,"seed":2030952300,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720223447597,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice 2","rawText":"Microservice 2","textAlign":"center","verticalAlign":"middle","containerId":"VzZvcKCVBCGb323QzCac7","originalText":"Microservice 2","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":87,"versionNonce":735000684,"index":"a4","isDeleted":false,"id":"A98epsgRuu7O8JoKMYKoN","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":3.5,"y":-144.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":162,"height":49,"seed":1876740460,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"xZmavb6V"},{"id":"FcD_mnn40DU0lyDZW4kL6","type":"arrow"},{"id":"NNUChLwde9ENC_6nUH6Y5","type":"arrow"}],"updated":1720223435471,"link":null,"locked":false},{"type":"text","version":93,"versionNonce":346191084,"index":"a5","isDeleted":false,"id":"xZmavb6V","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":14.870079040527344,"y":-132.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":139.2598419189453,"height":25,"seed":1658371052,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720223435472,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice 3","rawText":"Microservice 3","textAlign":"center","verticalAlign":"middle","containerId":"A98epsgRuu7O8JoKMYKoN","originalText":"Microservice 3","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":124,"versionNonce":702398036,"index":"a6","isDeleted":false,"id":"YGOXvMC3zIpEmKN0iBopA","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":214.5,"y":-140.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":166,"height":45,"seed":1775058644,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"xaiGydvR"},{"id":"NNUChLwde9ENC_6nUH6Y5","type":"arrow"},{"id":"Js6617_gfJbpXYWm2Sjog","type":"arrow"}],"updated":1720223439813,"link":null,"locked":false},{"type":"text","version":130,"versionNonce":2086160852,"index":"a7","isDeleted":false,"id":"xaiGydvR","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":228.2800750732422,"y":-130.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":138.43984985351562,"height":25,"seed":2095465556,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720223439814,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice 4","rawText":"Microservice 4","textAlign":"center","verticalAlign":"middle","containerId":"YGOXvMC3zIpEmKN0iBopA","originalText":"Microservice 4","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":112,"versionNonce":1449139412,"index":"a8","isDeleted":false,"id":"xvNDhdwdsqmNZ6rccHNnh","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":440.5,"y":-134.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":148,"height":35,"seed":111275860,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"Qvsq6ezI"},{"id":"Js6617_gfJbpXYWm2Sjog","type":"arrow"}],"updated":1720223442247,"link":null,"locked":false},{"type":"text","version":121,"versionNonce":1332568660,"index":"a9","isDeleted":false,"id":"Qvsq6ezI","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":445.5000762939453,"y":-129.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":137.99984741210938,"height":25,"seed":1825629396,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720223442247,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Microservice 5","rawText":"Microservice 5","textAlign":"center","verticalAlign":"middle","containerId":"xvNDhdwdsqmNZ6rccHNnh","originalText":"Microservice 5","autoResize":true,"lineHeight":1.25},{"id":"yd2kmLX98cSyUnysfgZBy","type":"arrow","x":-272.5,"y":-113.18286723776014,"width":50.99999999999994,"height":0.7920443772901251,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":{"type":2},"seed":2048064364,"version":288,"versionNonce":1028244564,"isDeleted":false,"boundElements":null,"updated":1720223447598,"link":null,"locked":false,"points":[[0,0],[50.99999999999994,-0.7920443772901251]],"lastCommittedPoint":[36,-1],"startBinding":{"elementId":"GebK7yZwqbw16jhpxpFHy","gap":6,"focus":0.2414772727272727},"endBinding":{"elementId":"VzZvcKCVBCGb323QzCac7","gap":8,"focus":-0.08806818181818181},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"FcD_mnn40DU0lyDZW4kL6","type":"arrow","x":-42.499999999999986,"y":-114.78558018259534,"width":36.999999999999986,"height":0.6492602434554442,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":{"type":2},"seed":1716666580,"version":213,"versionNonce":16498516,"isDeleted":false,"boundElements":null,"updated":1720223447599,"link":null,"locked":false,"points":[[0,0],[36.999999999999986,-0.6492602434554442]],"lastCommittedPoint":[25,0],"startBinding":{"elementId":"VzZvcKCVBCGb323QzCac7","gap":11,"focus":0.17142857142857143},"endBinding":{"elementId":"A98epsgRuu7O8JoKMYKoN","gap":9,"focus":-0.11428571428571428},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"NNUChLwde9ENC_6nUH6Y5","type":"arrow","x":175.5,"y":-116.57742919461364,"width":35,"height":1.6115574427517174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":{"type":2},"seed":1056623852,"version":164,"versionNonce":1079589204,"isDeleted":false,"boundElements":null,"updated":1720223439813,"link":null,"locked":false,"points":[[0,0],[35,1.6115574427517174]],"lastCommittedPoint":[35,1],"startBinding":{"elementId":"A98epsgRuu7O8JoKMYKoN","gap":10,"focus":-0.02039329934450109},"endBinding":{"elementId":"YGOXvMC3zIpEmKN0iBopA","gap":4,"focus":-0.2665695557174071},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"Js6617_gfJbpXYWm2Sjog","type":"arrow","x":385.5,"y":-120.09889803985138,"width":47,"height":0.7539334970803964,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aE","roundness":{"type":2},"seed":1646926548,"version":134,"versionNonce":2035277140,"isDeleted":false,"boundElements":null,"updated":1720223442247,"link":null,"locked":false,"points":[[0,0],[47,-0.7539334970803964]],"lastCommittedPoint":[33,-1],"startBinding":{"elementId":"YGOXvMC3zIpEmKN0iBopA","gap":5,"focus":-0.03069838833461243},"endBinding":{"elementId":"xvNDhdwdsqmNZ6rccHNnh","gap":8,"focus":0.27782041442824246},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"Pl0YwktaR8KA2fvIYjQAW","type":"arrow","x":175.5,"y":-135.9765625,"width":16,"height":1,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":{"type":2},"seed":786132076,"version":18,"versionNonce":957733868,"isDeleted":true,"boundElements":null,"updated":1720223383268,"link":null,"locked":false,"points":[[0,0],[16,-1]],"lastCommittedPoint":[16,-1],"startBinding":{"elementId":"A98epsgRuu7O8JoKMYKoN","focus":0.327683615819209,"gap":10},"endBinding":{"elementId":"YGOXvMC3zIpEmKN0iBopA","focus":0.1864406779661017,"gap":8},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":363.5,"scrollY":480.0234375,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Circuit_Breakerexcalidraw.md5");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

- What if one of the services is down or slow?
	- impacts the entire chain
- Questions;
	- Can we return a fallback response if a service is down?
	- Can we implement a Circuit Breaker pattern to reduce load?
	- Can we retry requests in case of temporary failures?
	- Can we implement rate limiting?
- Solution: ***CIrcuit Breaker Framework - Resilience4j***
#### Retry
- ![Pasted image 20240706054937.png](/img/user/Attachments/Pasted%20image%2020240706054937.png)
- gives back the hardcodedresponse after trying for a certain time
#### Circuit Breaker
- if requests are getting fired to the service and its down, the circuit breaker will call the method for a certain time then it will stop calling the method and directly send back the hardcodedresponse
- it has three types of states
- <div id="Circuit_Breaker_Statesexcalidraw.md6"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.2.7","elements":[{"id":"tm3DMv5H8-kPW3LVGlerS","type":"rectangle","x":-340.5,"y":-261.9765625,"width":130,"height":73,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":1432356308,"version":100,"versionNonce":1333909716,"isDeleted":false,"boundElements":[{"type":"text","id":"urrlVbRF"},{"id":"KbmH5-RHdtW5u-eYlPd8-","type":"arrow"},{"id":"LJRWLoK9NkF6_3GdtOqGP","type":"arrow"}],"updated":1720225610101,"link":null,"locked":false},{"id":"urrlVbRF","type":"text","x":-306.69996643066406,"y":-237.9765625,"width":62.399932861328125,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":112560620,"version":76,"versionNonce":597414996,"isDeleted":false,"boundElements":null,"updated":1720225610103,"link":null,"locked":false,"text":"Closed","rawText":"Closed","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"tm3DMv5H8-kPW3LVGlerS","originalText":"Closed","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":132,"versionNonce":2030562284,"index":"a3","isDeleted":false,"id":"B6nvjn1ec6RQFUb0NgbAr","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":197,"y":-254.9765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":111.99999999999997,"height":64,"seed":855074900,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"OkMdLQ83"},{"id":"LJRWLoK9NkF6_3GdtOqGP","type":"arrow"},{"id":"rZgbBWK4xl89IMWW1Q1pH","type":"arrow"},{"id":"MlvWNs82Wyxd0icRnVOwr","type":"arrow"}],"updated":1720225617021,"link":null,"locked":false},{"type":"text","version":112,"versionNonce":818990444,"index":"a4","isDeleted":false,"id":"OkMdLQ83","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":230.6700210571289,"y":-235.4765625,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":44.65995788574219,"height":25,"seed":1108295124,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720225617022,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Open","rawText":"Open","textAlign":"center","verticalAlign":"middle","containerId":"B6nvjn1ec6RQFUb0NgbAr","originalText":"Open","autoResize":true,"lineHeight":1.25},{"type":"rectangle","version":105,"versionNonce":418844244,"index":"a6","isDeleted":false,"id":"oHNKtn49K5AsBIxWU_weq","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-78,"y":46.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":122,"height":77,"seed":272442220,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"MBftKCoK"},{"id":"KbmH5-RHdtW5u-eYlPd8-","type":"arrow"},{"id":"rZgbBWK4xl89IMWW1Q1pH","type":"arrow"},{"id":"MlvWNs82Wyxd0icRnVOwr","type":"arrow"}],"updated":1720225623752,"link":null,"locked":false},{"type":"text","version":90,"versionNonce":117060820,"index":"a7","isDeleted":false,"id":"MBftKCoK","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-63.99994659423828,"y":72.0234375,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":93.99989318847656,"height":25,"seed":169727468,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720225623756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Half Open","rawText":"Half Open","textAlign":"center","verticalAlign":"middle","containerId":"oHNKtn49K5AsBIxWU_weq","originalText":"Half Open","autoResize":true,"lineHeight":1.25},{"id":"KbmH5-RHdtW5u-eYlPd8-","type":"arrow","x":-86,"y":53.714404071231485,"width":186.85302224367274,"height":231.69096657123148,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a9","roundness":{"type":2},"seed":1171798228,"version":304,"versionNonce":358517076,"isDeleted":false,"boundElements":null,"updated":1720225623754,"link":null,"locked":false,"points":[[0,0],[-186.85302224367274,-231.69096657123148]],"lastCommittedPoint":null,"startBinding":{"elementId":"oHNKtn49K5AsBIxWU_weq","gap":8,"focus":-0.47952991781242793},"endBinding":{"elementId":"tm3DMv5H8-kPW3LVGlerS","gap":11,"focus":0.37761515281962976},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"LJRWLoK9NkF6_3GdtOqGP","type":"arrow","x":-200.5,"y":-226.31355306934154,"width":384,"height":3.8988260342091223,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":{"type":2},"seed":665949524,"version":362,"versionNonce":207020268,"isDeleted":false,"boundElements":null,"updated":1720225617022,"link":null,"locked":false,"points":[[0,0],[384,3.8988260342091223]],"lastCommittedPoint":null,"startBinding":{"elementId":"tm3DMv5H8-kPW3LVGlerS","gap":10,"focus":-0.04096561814191661},"endBinding":{"elementId":"B6nvjn1ec6RQFUb0NgbAr","gap":13.499999999999986,"focus":-0.0389173372348208},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"rZgbBWK4xl89IMWW1Q1pH","type":"arrow","x":57.5,"y":89.41647659606434,"width":197.18370312539784,"height":267.39303909606434,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":{"type":2},"seed":98414036,"version":354,"versionNonce":342049876,"isDeleted":false,"boundElements":null,"updated":1720225623755,"link":null,"locked":false,"points":[[0,0],[197.18370312539784,-267.39303909606434]],"lastCommittedPoint":null,"startBinding":{"elementId":"oHNKtn49K5AsBIxWU_weq","gap":13.5,"focus":0.8737039527230263},"endBinding":{"elementId":"B6nvjn1ec6RQFUb0NgbAr","gap":13,"focus":-0.4380532745844181},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"MlvWNs82Wyxd0icRnVOwr","type":"arrow","x":205.68416447722174,"y":-176.9765625,"width":155.35434748878345,"height":216.6020771423158,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":{"type":2},"seed":1526712148,"version":342,"versionNonce":2142584660,"isDeleted":false,"boundElements":null,"updated":1720225623756,"link":null,"locked":false,"points":[[0,0],[-155.35434748878345,216.6020771423158]],"lastCommittedPoint":null,"startBinding":{"elementId":"B6nvjn1ec6RQFUb0NgbAr","gap":14,"focus":0.18263279445727484},"endBinding":{"elementId":"oHNKtn49K5AsBIxWU_weq","gap":9,"focus":0.3964125560538117},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"yHf4SLBn","type":"text","x":-163.5,"y":-256.9765625,"width":319.39959716796875,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":null,"seed":427735148,"version":81,"versionNonce":1434881108,"isDeleted":false,"boundElements":null,"updated":1720225543131,"link":null,"locked":false,"text":"Failure rate abouve a threshold","rawText":"Failure rate abouve a threshold","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Failure rate abouve a threshold","autoResize":true,"lineHeight":1.25},{"id":"nrVEvhNl","type":"text","x":0.5,"y":-105.9765625,"width":195.8797607421875,"height":25,"angle":5.393786327811554,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aE","roundness":null,"seed":1294434284,"version":60,"versionNonce":1905340116,"isDeleted":false,"boundElements":null,"updated":1720225566727,"link":null,"locked":false,"text":"after wait duration","rawText":"after wait duration","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"after wait duration","autoResize":true,"lineHeight":1.25},{"type":"text","version":156,"versionNonce":998422508,"index":"aF","isDeleted":false,"id":"4M2LCrYV","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":5.393786327811554,"x":45.80375865014335,"y":-42.03346591541805,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":308.03961181640625,"height":25,"seed":491424212,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720225581613,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Failure rate above a threshold","rawText":"Failure rate above a threshold","textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Failure rate above a threshold","autoResize":true,"lineHeight":1.25},{"type":"text","version":263,"versionNonce":152229716,"index":"aH","isDeleted":false,"id":"sGx284Io","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0.8645972343669,"x":-356.4034586867381,"y":-54.89600889471564,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":301.67962646484375,"height":25,"seed":797879532,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1720225602614,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"Failure rate below a threshold","rawText":"Failure rate below a threshold","textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Failure rate below a threshold","autoResize":true,"lineHeight":1.25},{"id":"PbTRR0MCDZFh_TOJotRxk","type":"rectangle","x":106.5,"y":-231.9765625,"width":105,"height":48,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aI","roundness":{"type":3},"seed":517362412,"version":42,"versionNonce":1323393516,"isDeleted":true,"boundElements":null,"updated":1720225584736,"link":null,"locked":false}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":463.5,"scrollY":475.0234375,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Circuit_Breaker_Statesexcalidraw.md6");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>


